\documentclass{article}

\usepackage[utf8]{inputenc}
\usepackage[bulgarian]{babel}
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{enumerate}
\usepackage{enumitem}
\usepackage[margin=1in]{geometry}
%\usepackage[margin=10pt,a6paper]{geometry}
\usepackage{xcolor}

\newtheorem*{prop}{Твърдение}
\newtheorem*{remark}{Забележка}

\newcommand{\grsigma}[0]{{\langle \sigma \rangle}}

\begin{document}

\section*{Задача 1}
Навсякъде по-долу $G$ е крайна група, а $p$ е просто число, делящо реда ѝ.
\subsection*{1. а)}
\begin{prop}
    Нека $M = \{(g_1, \dots, g_p) \in G^p \, | \, g_1.\dots.g_p = e\}$.
    Тогава $|M| = |G|^{p-1}$.
\end{prop}
\begin{proof}
    Да намерим мощността на $M$ означава да преброим наредените $p$-торки, удовлетворяащи условието
    $P(\vec g) \Leftrightarrow {g_1.\dots. g_p = e}$.

    Ако нямахме такова условие, отговорът щеше да бъде просто $p!$.

    Към момента обаче разполагаме с $p$-торки, „филтрирани“ през $P(\vec g)$, като не е никак ясно колко от тях отпадат и колко остават.

    Ще се опитаме да „разкараме“ $P(\vec g)$, като преобразуваме $M$ до множесто, в което елементите не са филтрирани по нищо.
    $P(\vec g)$ задава някаква връзка между $p$ елемента, подобно на линейно уравнение. Ако изразим един от елементите чрез останалите и заместим обратно, ще получим същото нещо, но с една променлива по-малко.

    Тъй като\footnote{Аргументация за коректност на записа $g_2 . \dots . g_p$, който ще ползваме редовно след това.} $p$ е просто, тоест $p \ge 2$, чрез ляво умножение с $g_1^{-1}$ можем да презапишем условието така:
    \begin{align*}
        P(\vec g) \Leftrightarrow \, &g_1.\dots.g_p = e \\
        \Leftrightarrow \, &g_2. \dots . g_p = g_1^{-1} \\
        \Leftrightarrow \, &g_1 = (g_2 . \dots g_p)^{-1}
    \end{align*}

    Изразихме първия елемент чрез останалите. Заместваме обратно в $M$ и получаваме следното:

    $$M = \{ \, (\,(g_2 . \dots g_p)^{-1}, g_2, \dots, g_p) \in G^p \,\}$$

    От единствеността на обратния елемент на $g_2.\dots.g_p$ следва, че броят на елементите на $M$ не зависи от избора на първия елемент, тоест:

    \begin{align*}
        |M| &= |\{ \, (\,(g_2 . \dots g_p)^{-1}, g_2, \dots, g_p) \in G^p \,\}|\\
        &= |\{ \, (\, g_2, \dots, g_p) \in G^{p-1} \,\}|\\
        &= {|G|}^{p-1} = p^{p-1}
    \end{align*}

    Предпоследното равенство се получава, като изберем по един елемент от групата за всяка позиция в наредената ${(p-1)}$-орка.
\end{proof}
\begin{remark}
    В следващите подточки изображението $\sigma : M \to G^p$ изпраща последния елемент на подадената наредойка най-отпред: $\sigma (g_1, \dots, g_p) = (g_2, \dots, g_p, g_1)$.
\end{remark}

\subsection*{1. б)}
\begin{prop}
    $\sigma : M \to G^p$ е биекция от $M$ в $M$
\end{prop}
\begin{proof}
    Първо ще проверим почти очевидния факт, че $\sigma$ строго следи никой от $M$ да не излиза навън, тоест $Im(\sigma) \subseteq M$.
    Разглеждаме произволно $(g_1,\dots, g_p) \in M$ и подсигуряваме, че ${\sigma((g_1,\dots, g_p)) \in M}$:
    \begin{align*}
        \sigma((g_1,\dots, g_p)) &= g_p.g_1\dots.g_{p-1}\\
        &= g_p.g_1\dots.g_{p-1}(g_p g_p^{-1})\\
        &= g_p.(g_1,\dots, g_p)g_p^{-1}\\
        &= g_p(e)g_p^{-1} \\
        &= g_p g_p^{-1} = e
    \end{align*}
    Условието за принадлежност на $\sigma (g_1,\dots, g_p)$ в $M$ е изпълнено.
    Тогава $\sigma(\vec g) \in M \, \forall \vec g \in M$, тоест $Im(\sigma) \subseteq M$, което ни дава право да пишем $\sigma : M \to M$, вместо $\sigma : M \to G$.

    В биективността на $\sigma : M \to M$ ще се убедим, построявайки нейна обратна. Очевидно, щом $\sigma$ изпляква последния елемент отпред, то $\sigma^{-1}$ трябва да го върне отзад:
    \begin{equation*}
        \sigma^{-1}(g_1, \dots, g_p) := (g_2, \dots, g_p, g_1)
    \end{equation*}
    Проверяваме биективността директно от дефинициите на $\sigma$ и $\sigma^{-1}$:
    \begin{equation*}
        \sigma(\sigma^{-1}(g_1,\dots,g_p)) = \sigma(g_2,\dots,g_p,g_1) = (g_1, \dots, g_p)
    \end{equation*}
    Тоест $\sigma \circ \sigma^{-1} = id$, следователно $\sigma^{-1}$ наистина е обратна на $\sigma$. В заключение, $\sigma$ е биекция от $M$ в $M$, тоест $\sigma \in S_M$.
\end{proof}

\subsection*{1. в)}
Сега ще потърсим реда на цикличната група $\grsigma \in S_M$, за който добре знаем, съвпада с реда на самия елемент $\sigma$.

\begin{prop}
    След като видяхме, че $\sigma$ е пермутация на множеството $M$ от наредени $p$-торки, за всички нас е съвсем очевидно, че $|\sigma| = p$.
\end{prop}
\begin{proof}
    Да направим следната проста проверка:
    \begin{align*}
        \sigma^p(g_1,\dots, g_p) =\,&\sigma^{p-1}(g_p, g_1,\dots, g_{p-1}) \\
        =\,&\sigma^{p-i}(g_{p-i+1},\dots,g_p,g_1,\dots,g_{p-i})\;\forall i\in\mathbb N\\
        \overset{i \rightarrow p}{=}\,&\sigma^{p-p}(g_{p-p+1},\dots,g_p)\\
        =\,&\sigma^{0}(g_{1},\dots,g_p) = id(g_{1},\dots,g_p)
    \end{align*}
    Получихме, че $\sigma^p = id$.
    За да сме сигурни, че $p$ е най-малкото число, удовлетворяващо това условие,
    поглеждаме втория ред от равенствата и забелязваме, че при $i<p$ аргументите са разбъркани.

    За по-неудовлетворените от тази забележка призоваваме на помощ силите на формализма и допускаме своята неправота: нека $\sigma^k = id$ за някое $k \in \mathbb N, 0 < k < p$, осмелило се да се помисли за ред на групата $\grsigma$.
    Ще заковем едно такова $k$ и ще проверим:
    \begin{align*}
        \forall (\{g_i\}_{i=1}^p \in M)\!:\, &(g_1,\dots, g_p) \\
        =\,&id(g_1,\dots, g_p) \\
        \overset{\textit{доп.}}{=}\,&\sigma^k(g_1, \dots, g_p)\\
        =\,&\sigma(\overset{k\,\text{пъти}}{\dots}   ( \sigma( (g_1,\dots, g_p)))\dots)\\
        =\,&\sigma(\overset{k-1\,\text{пъти}}{\dots} ( \sigma( (g_p, g_1,\dots, g_{p-1})))\dots)\\
        =\,&\sigma(\overset{k-i\,\text{пъти}}{\dots} ( \sigma( (g_{p-i+1}, \dots, g_p, g_1,\dots, g_{p-i})))\dots)\\
        \overset{i\rightarrow k}{=}\,&\sigma^0( (g_{p-k+1}, \dots, g_p, g_1,\dots, g_{p-k})) \\
        =\,&id( (g_{p-k+1}, \dots, g_p, g_1,\dots, g_{p-k}))\\
        =\,&(g_{p-k+1}, \dots, g_p, g_1,\dots, g_{p-k})
    \end{align*}

    Да погледнем отново какво излезе.
    За всяко $(\{g_i\}_{i=1}^p \in M)$ имаме, че $(g_1,\dots, g_p) =\,(g_{p-k+1}, \dots, g_p, g_1,\dots, g_{p-k})$.

    В частност знаем, че първите елементи са равни: $g_1 = g_{p-k+1}$.
    Но $k$-то, което взехме преди малко, другояче казва: $0 < k < p$, и тогава:
    \begin{align*}
        &0 > -k > -p \\
        \Longleftrightarrow &p > p-k > 0 \\
        \Longleftrightarrow &p > p-k+1 > 1\\
        \Longleftrightarrow &g_p \not= g_{p-k+1}
    \end{align*}
    Следователно с чиста съвест и два ритника през прозореца изхвърляме $k$ и заключаваме, че $p$ е най-малкото естествено число, за което $\sigma^p = id$. Тогава $|\grsigma| = p$.
\end{proof}

\newcommand{\eqdefof}[1]{\underset{\textit{на } #1}{\overset{\textit{деф.}}{=\joinrel=}}}
\newcommand{\eqdefcd}[0]{\eqdefof \centerdot}

\subsection*{1.г)}
Четвъртата подточка гласи, че групата $\grsigma$ действа върху $M$.
Нужно ни е действие - построяваме такова директно:
\begin{prop}
    Следното изображение е действие на $\grsigma$ върху $M$:
    $$\sigma \centerdot \vec g \mapsto \sigma(\vec g)$$
\end{prop}
\begin{proof}
    Проверяваме двете условия от дефиницията на „действие върху група“:
    \begin{enumerate}
        \item Нека $\tau, \tau\prime \in \grsigma$, a $\vec g \in M$.
            За асоциативност добутваме двете страни до един и същи синтактичен обект:
            \begin{align*}
                (\tau \circ \tau\prime) \centerdot \vec g
                &\eqdefcd (\tau \circ \tau\prime)(\vec g)\\
                &\underset{\textit{на } \circ}{\overset{\textit{ассоц.}}{=\joinrel=}} \tau(\tau\prime(\vec g))
            \end{align*}
            \begin{align*}
                \tau \centerdot (\tau \prime \centerdot \vec g)
                &\eqdefcd \tau \centerdot (\tau\prime(\vec g))\\
                &\eqdefcd \tau(\tau\prime(\vec g))
            \end{align*}

            Следователно $(\tau \circ \tau\prime) \centerdot \vec g \equiv \tau \centerdot (\tau \prime \centerdot \vec g) $.
        \item Нека $\vec g \in M$.
            Тогава $id \centerdot \vec g \eqdefcd (id(g_1), \dots, id(g_p)) \eqdefof{id} (g_1, \dots, g_p) \equiv \vec g$. Тоест и условието $id \centerdot \vec g = \vec g$ е изпълнено.
    \end{enumerate}
    Следователно точката ($\centerdot$), която дефинирахме, е действие на $\grsigma$ върху $M$.
    Значи $\grsigma$ \textit{действа} върху $M$.
\end{proof}

\subsection*{1.д)}

\begin{prop}
    Нека е дадено $\vec g \in M$. Тогава е изпълнено:
    $$St_{\grsigma}(g_1,\dots, g_p) = \grsigma \Longleftrightarrow \forall i, j \; (g_i = g_j) $$
\end{prop}
\begin{proof}
    Нека разплетем най-напред дефинициите от лявата страна и я сведем до нещо по-лесно за интерпретация:
    \begin{align*}
        St_{\grsigma}(g_1,\dots, g_p) &= \grsigma \\
        \Leftrightarrow\; \{ \tau \in \grsigma \,|\, \tau \centerdot \vec g = \vec g \} &= \{ \sigma^i \,|\, i \in \mathbb N \}
    \end{align*}

    \begin{enumerate}
        \item В правата посока от последното преобразувание следва: $$\forall i:\!\sigma^i(g_1,\dots, g_p) = (g_1,\dots, g_p)$$

            Казано на български, всяка степен на $\sigma$ връща аргументите, както са ѝ подадени.
            Което е доста подозрително, тъй като $\sigma$ по дефиниция праща последния елемент най-отпред, т.е. все нещо прави.

            Това ни навежда на мисълта, че има нещо гнило в $\vec g$.
            Спомняме си следната сметка от в) подточка:
            $$\sigma^k(g_1, \dots, g_p) = (g_{p-k+1}, \dots, g_p, g_1,\dots, g_{p-k})$$

            Приравняваме двете формули и дясната страна на твърдението е доказана:
            $$\forall i: (g_1,\dots, g_p) = (g_{p-k+1}, \dots, g_p, g_1,\dots, g_{p-k})$$
            $$\forall i: g_1 = g_{p-i+1} \land \, \dots \, \land g_p = g_{p-i})$$
            $$\forall i, j: g_i = g_j$$
        \item В другата посока, нека $g_1 = \dots = g_p$. Искаме да получим, че стабилизаторът съвпада с цялата група. Нека го преобразуваме и опростим, доколкото можем:
            \begin{align*}
                St_{\grsigma}(\vec g)  &= \{ \tau \in \grsigma \,|\, \tau \centerdot \vec g = \vec g \} \\
                &= \{ \tau \in \grsigma \,|\, \tau(\vec g) = \vec g \} \\
                &= \{ \tau \in \grsigma \,|\, \tau (g_1,\dots, g_{\color{red} p}) = (g_1,\dots, g_{\color{red} p}) \} \\
                &= \{ \tau \in \grsigma \,|\, \tau (g_1,\dots, g_{\color{red} 1}) = (g_1,\dots, g_{\color{red} 1}) \} \\
                &= \{ \tau \in \grsigma \,|\, \textit{Логическа истина}\} \\
                &= \{ \tau \in \grsigma \} = \grsigma
            \end{align*}
            Хм, то пък излезе.
    \end{enumerate}
\end{proof}

\subsection*{1.е)}
Да намерим в произволна крайна група $G$ елемент от прост ред $p$, делящ нейния $n$, не звучи като проста задача. Ще подходим малко „наобратно“, въобразявайки си, че вече сме го намереили, ще разплетем оттам.

\begin{prop}
    В крайна група $G$ има елемент от ред $p$, където $p$ е прото число, делящо реда на $G$.
\end{prop}

\begin{proof}

    Ще разгледаме какви свойства има един такъв хипотетичн елемент.
    Тъй като е наистина специален за нас, ще изберем една много специална буква за него: $\Upsilon$.

    Единственото, което знаем, е $|\Upsilon| = p$, откъдето $\Upsilon^p = e$.
    Внезапно се сещаме\footnote{Че какво друго да направим?}, че обратната посока също е в сила, стига $\Upsilon$ да не е единичният елемент
    (с тази специална буква така или иначе не искаме да обозначаваме такива прости елементи!):

    Ако ${g^p = e}$, то знаем, че $|g|$ дели $p$.
    Щом $p$ е просто, за $|g|$ има две възможности: $|g| = p$ и сме готови, или $|g| = 1$ и $g = e$, който случай отхвърлихме.

    Така. Значи $|\Upsilon| = p \Longleftrightarrow \Upsilon \cdot \overset{p \textit{ пъти}}{\dots} \cdot \Upsilon = e$.
    Ще ни избоде очите, че това е условието за принадлежност на множеството $M$, което коментираме през цялото време.

    Какво означава това? Че един елемент от вида $(g, \dots, g)$ лежи в $M$ точно когато $g = e$ или неговият ред е $p$.
    Тоест, за нашето $\Upsilon$, $(\Upsilon, \dots, \Upsilon)$ лежи в $M$, и обратно - за всяко $(g, \dots, g) \in M$, ако $g \not= e$, то $g$ може да играе ролята на $\Upsilon$.

    Ако погледнем пък предната подточка, отам можем да изведем $St_{\grsigma}(\Upsilon, \dots, \Upsilon) = \grsigma$.
    Чудим се какво да правим с този стабилизатор и преглеждаме услужливо качените записки от 4тата лекция, търсейки полезни твърдения със стабилизатори.
    Затова и следващите разсъждения са леко хаотични. В тях събираме различни факти, надявайки се да излезе нещо, без да сме много сигурни дали има смисъл от тях.

    Следното твърдение изглежда полезно: дължината на орбитата на даден елемент е равна на индекса на стабилизатора му.
    Непосредствено излиза $|O((\Upsilon,\dots,\Upsilon))| = 1$, тъй като стабилизаторът покрива цялата група и значи индексът му е 1.

    Освен това, $M$ е обединение на всички орбити.
    Да изразим мощността му като сума на мощностите на различните орбити\footnote{Това отново крадем от лекции и най-нахално си спестяваме да пишем $i\in I$ всеки път.}:
    $$|M| = \sum |O(\vec g_i)|$$

    \newcommand{\gunint}{{\vec g_i \not\in M_\Upsilon}}

    Разглеждайки същата лекция, виждаме едно твърдение, в което редът на група се представя като сбор на реда на центъра и сума от индексите на централизаторите.
    Аналогично, тук ще опитаме да разбием сумата на по-прости части, за да я анализираме по-лесно. Но какви?

    Сумата се движи по всички представители на орбити от $M$. За нас обаче от специален интерес са наредойките $(\Upsilon,\dots,\Upsilon)$.
    Естествено е тогава да разбием сумата на събираеми от този вид $+$ всички други събираеми.
    За целта внимателно поставяме интересните елементи в красиво обозначено с ипсилон множество:
    $$M_\Upsilon := M \cap \{(s,\dots,s) \in G^p\}$$
    и извършваме разбиването:
    \begin{equation}
        \label{eq:sum_partition}
        |M| = \sum |O(\vec g_i)| = \sum_{\vec g \in M_\Upsilon} |O(\vec g)| + \sum_{\gunint} |O(\vec g_i)|
    \end{equation}

    Първото събираемо обхожда само интересните елементи.
    Както видяхме по-горе, всеки елемент на тази сума е равен на 1.
    Тоест първото събираемо представлява броят интересни елементи - $|M_\Upsilon|$, като трябва да отбележим, че в тях влиза и $(e, \dots, e)$, тоест $|M_\Upsilon| \ge 1$.
    $$|M| = \sum_{\vec g \in M_\Upsilon} |O(\vec g)| + \sum_{\gunint} |O(\vec g_i)|=|M_\Upsilon| + \sum_{\gunint} |O(\vec g_i)|$$

    Това ни дава надежда, че сме на прав път - за съществуването на $\Upsilon \not= e_G$ трябва да докажем, че $|M_\Upsilon|\ge 2$.
    Да видим как можем да изразим $|M_\Upsilon|$:

    $$|M_\Upsilon| = |M| - \sum_{\gunint} |O(\vec g_i)|$$

    Вече се справихме с единия клон на разбиването (\ref{eq:sum_partition}).
    Остана другият - какво можем да направим с една орбита?
    Единственото, което се сещаме, е да приложим отново стабилизаторната теоерма:
    ${|O_{\grsigma}(\vec g_i)| = |\grsigma:St_{\grsigma}(\vec g)|}$.

    Следващият ход също е горе-долу предопределен. След кратко обаждане до Лагранж откриваме следното:
    \begin{align*}
        |\grsigma:St_{\grsigma}(\vec g)| &\cdot |St_{\grsigma}(\vec g)| = |\grsigma|\\
        |O_\grsigma(\vec g)| &\cdot |St_{\grsigma}(\vec g)| = p
    \end{align*}

    Е да де, ама произведение н 2 числа да дава просто число - значи двете числа са $1$ и $p$.
    Обаче, редът на стабилизатора няма как да е $p$ - това би означавало, че $|St(\vec g)| = p = |\grsigma|$, тоест $St(\vec g) = \grsigma$, което видяхме, че важи само за интересните елементи - ${\vec g_i \in M_\Upsilon}$.
    А ние гледаме извън $M_\Upsilon$ в момента.
    Тоест дължините на орбитите на всички $\vec g$-та са p.
    \begin{align*}
        \sum_\gunint |O(\vec g_i)| &= \sum_\gunint p = p \cdot \sum_\gunint 1\\
        &= p \cdot |\{\,\vec g_i | \gunint \}|\\
        &= p \cdot |\{\vec g_i \in M \textbackslash M_\Upsilon\}|
    \end{align*}

    Тук продължаваме под $\vec g_i$ да разбираме представители на всички непресиащи се орбити.
    Десният множител какво представлява\footnote{Няма абсолютно никакво значение, но ми беше хрумнало, докато решавах, и го написах.}?
    Това е броят орбити, породени от неинтересни елементи:
    ${|\{ O(\vec g) | \vec g \in M \textbackslash M_\Upsilon \}|}$.

    Връщаме се обратно в равенството от по-горе:
    \begin{align*}
        |M_\Upsilon| &= |M| - \sum_{\gunint} |O(\vec g_i)|\\
        &= |M| - p \cdot | \{ O(\vec g) \,|\, g \in M \textbackslash M_\Upsilon \}|
    \end{align*}

    Дясната страна се дели на $p$, тъй като $|M| = |G|^{p-1}$, а редът на $|G|$ по условие се дели на $p$.

    Тогава $|M_\Upsilon|$ също се дели на $p$. Но $M_\Upsilon$ грижливо пази единичната наредойка и $p \ge 2$, значи $|M_\Upsilon| \ge p$.
    На български казано, в $M_\Upsilon$ лежат поне $p-1 \ge 1$ интересни елемента, различни от единицата.
\end{proof}
\end{document}
